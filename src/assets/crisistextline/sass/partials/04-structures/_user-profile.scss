$popup-avatar-size: 40px;
$popup-fontsize: 11px;
$popup-line-height: 1.4;
$popup-quote-lines: 3;

// Common wrapper styling for sections and profile card
.user-profile {
    .profile-card, .profile-section {
        margin-bottom: 2rem;
    }
    .profile-card .profile-card-name, .profile-section .section-name {
        font-size: 2em;
        font-weight: bold;
        color: white;
        padding: .5rem 1rem;
    }
    .profile-card .profile-card-content, .profile-section .field-content {
        background-color: $color-light
    }
}

// Main Profile formatting
.user-profile .profile-section {
    .section-name {
        margin: 1rem 0;
    }
    .field-name {
        color: white;
        padding: .5rem 1rem;
    }
    .field-content {
        overflow: hidden;
        padding: 1.5rem 0;
        text-align: center;
        &:not(.size-normal) {
            font-size: 6rem;
        }
        &:not(.weight-normal) {
            font-weight: bold;
        }
        svg {
            text {
                fill: $color-dark;
            }
            .axis {
                path, line {
                    fill: none;
                    stroke: $color-med;
                    shape-rendering: crispEdges;
                }
                &.x line, &.y path {
                    display: none;
                }
            }
            .background-shape {
                fill: $color-med-light;
            }
            @for $i from 1 through 4 {
                .zone-#{$i} {
                    @include apply-queue-health-color($i, fill);
                }
            }
        }
    }
    // Specific Sections
    &.cc-hours {
        .section-name, .field-name {
            background-color: $color-blue;
        }
        .field-content {
            color: $color-blue;
        }
    }
    &.cc-impact {
        .section-name, .field-name {
            background-color: $color-green;
        }
        .field-content {
            color: $color-green;
        }
    }
    // Specific Fields
    .profile-field {
        &.cc-hours-monthly {
            .field-content {
                padding: 3rem 0 2rem;
            }
            svg {
                rect {
                    fill: $color-blue;
                }
                .labels text {
                    fill: white;
                    &.lowVal {
                        fill: $color-dark;
                    }
                }
            }
        }
        &.cc-convo-count {
            .field-content {
                color: $color-dark;
                font-size: 1.5rem;
                padding: 2rem 0;
                .convo-icon {
                    margin: auto;
                    padding-top: 1.6rem;
                    background-color: $color-light;
                    background-image: image-url('comment-green.png');
                    background-size: 100px 100px;
                    width: 100px;
                    height: 100px;
                }
            }
        }
        &.cc-queue-health {
            .field-content {
                padding: 2rem 0;
                font-size: 1.5rem;
            }
        }
        &.cc-issue-types {
            .field-content {
                padding: 3rem 0;
            }
            svg {
                .shapes, .snippet {
                    fill: $color-green;
                }
                .background-shape {
                    fill: transparent;
                }
                .shapes, .legend, .labels {
                    cursor: pointer;
                }
                .labels text {
                    fill: white;
                }
            }
        }
        &.cc-texter-sentiment {
            svg {
                .words text {
                    fill: $color-green;
                }
            }
        }
    }
}


// Main Profile Card formatting
.profile-card {
    div, img, a {
        &.editable {
            cursor: pointer;
        }
    }
    .profile-card-name {
        // width: 100%;
        // color: black;
        // margin-top: 0;
        .edit-link {
            font-size: 14px;
            font-weight: normal;
        }
    }
    .profile-card-content {
        width: 100%;
        // .profile-card-left, .profile-card-right {
        //     display: inline-block;
        //     vertical-align: top;
        // }
        input, textarea {
            clear: both;
        }
        div.unset {
            font-style: italic;
            color: $color-med-dark;
        }
    }
    .profile-card-left {
        // margin-right: 1em;
        .avatar {
            .gravatar-toggle {
                cursor: pointer;
            }
            &>div {
                width: 100%;
                font-size: .7em;
            }
            input[type="checkbox"] {
                margin-left: 0;
            }
            .gravatar {
                // background-image: image-url('ctl-shortlogo-gray.png');
            }
        }
        .badges {
            clear: both;
            display: relative;
            overflow: hidden;
            .badge {
                float: left;
                &:nth-of-type(3n) {
                    margin-right: 0;
                }
            }
        }
    }
    .profile-card-right {
        // textarea {
        //     padding: .25em;
        // }
        // textarea, input {
        //     font-size: 14px;
        // }
    }
    .edit-buttons button.submit {
        @include button-active-hover;
    }
}

// Profile Page Profile Card formatting (mainly adding in size dimensions)
.user-profile .profile-card {
    .profile-card-name {
        color: white;
        @for $i from 1 through 4 {
            &.level-#{$i} {
                @include apply-level-color($i, background-color);
            }
        }
        &.trainee {
            background-color: $color-trainee;
        }
        &.supervisor {
            background-color: $color-supervisor;
        }
        &.admin {
            background-color: $color-admin;
        }
    }

    // Overriding Semantic UI's grid padding here
    .ui.grid > .column:not(.row), .ui.grid > .row > .column {
        padding: 2rem 0 2rem 2rem;
        // padding-right: 1rem;
    }

    .profile-card-left {
        // .badges {
        //     margin-top: 5px;
        //     .badge {
        //         width: $size-user-profile-badge;
        //         height: $size-user-profile-badge;
        //         margin-right: $margin-user-profile-badge;
        //         &.cc-level {
        //             @include user-icon-square($color-med, $size-user-profile-badge);

        //             @for $i from 2 through 4 {
        //                 &.level-#{$i} {
        //                     @include apply-level-color($i, background-color);
        //                 }
        //             }
        //         }
        //         &.one-year {
        //             @include user-icon-star($color-level-3);
        //             font-size: $size-user-profile-badge - 2px;
        //             margin-top: -1px;
        //         }
        //     }
        // }
    }
    .profile-card-mid, .profile-card-right {
        label {
            font-weight: bold;
        }
        input[type="text"], textarea {
            display: block;
        }
        textarea {
            width: 100%;
            height: auto;
        }
        input[type="text"] {
            width: 100%;
        }
        &> div {
            margin-bottom: .5rem;
        }
    }
    .profile-card-mid {
        padding-right: 1rem !important;
    }

    .profile-card-right {
        padding: 2rem 2rem 2rem 1rem !important;
        span.value {
            display: block;
            &:before {
                content: open-quote;
            }
            &:after {
                content: close-quote;
            }
        }
        // @include calc(width, 100% - #{$size-user-profile-avatar} - 1em);
        // textarea {
        //     width: $width-quote-textarea;
        //     height: 6em;
        // }
        // input[type="text"] {
        //     width: 100%;
        //     max-width: 20em;
        // }
        // .quote {
        //     margin-left: $size-quote-indent;
        // }
        // .quotemark {
        //     height: $size-quote-indent;
        //     .inner {
        //         font-size: 4em;
        //         font-style: normal;
        //         font-weight: bold;
        //         color: $color-med-dark;
        //     }
        // }
    }
    .profile-card-right {
        // @include calc(width, 100% - #{$size-user-profile-avatar} - 1em);
        // textarea {
        //     width: $width-quote-textarea;
        //     height: 6em;
        // }
        // input[type="text"] {
        //     width: 100%;
        //     max-width: 20em;
        // }
        // .quote {
        //     margin-left: $size-quote-indent;
        // }
        // .quotemark {
        //     height: $size-quote-indent;
        //     .inner {
        //         font-size: 4em;
        //         font-style: normal;
        //         font-weight: bold;
        //         color: $color-med-dark;
        //     }
        // }
    }
    .edit-buttons {
        margin-top: 1.5rem !important;
        // position: relative;
        // overflow: hidden;
    }
    // .supervisor-actions {
    //     margin-top: 0;
    //     padding-top: 0 !important;
    // }
}

// Sidebar popup Profile Card formatting
.ui-tooltip.profile-card-tooltip {
    background-color: white;
    color: $color-dark;
    font-size: $popup-fontsize;
    &:after {
        display: none;
    }
}

.profile-card.popup {
    padding: .5em;
    .profile-card-left {
        .avatar {
            width: $popup-avatar-size;
            .gravatar {
                width: $popup-avatar-size;
                height: $popup-avatar-size;
                background-size: $popup-avatar-size $popup-avatar-size;
            }
        }
    }
    .profile-card-right {
        max-width: 200px;
        .quote {
            // For limiting to 3 lines, with ellpisis in webkit
            display: block;
            display: -webkit-box;
            max-width: 100%;
            max-height: $popup-quote-lines * $popup-fontsize * $popup-line-height;
            margin: 1em auto 0;
            line-height: $popup-line-height;
            -webkit-line-clamp: $popup-quote-lines;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            &:before, &:after {
                content: "\0022";
            }
        }
    }
}

.supervisor-actions {
    .ui.button {
        // background-color: $color-med-dark !important;
        // color: white !important;
        background-size: 2rem !important;
        background-repeat: no-repeat !important;
        background-position: 1rem center !important;
        width: 50%;
        &.good-egg {
            background-image: image-url('egg-with-hearts-white.svg');
            // padding-left: 40px;
        }
        &.funky-apple {
            background-image: image-url('apple.svg');
            // padding-left: 45px;
        }
    }
    .ui.button:hover {
        color: white !important;
        // background-size: 2rem !important;
        // background-repeat: no-repeat !important;
        // background-position: left center !important;
        background-color: $color-blue !important;
        &.good-egg {
            background-image: image-url('egg-with-hearts-white.svg') !important;
        }
        &.funky-apple {
            background-image: image-url('apple.svg') !important;
        }
    }
}
